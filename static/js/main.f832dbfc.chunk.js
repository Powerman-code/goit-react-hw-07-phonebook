(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"ContactForm_form__3ax8P",label:"ContactForm_label__3twa6",input:"ContactForm_input__3hg09",button:"ContactForm_button__2S2Av"}},26:function(t,e,n){t.exports={button:"Filter_button__Cl75d",input:"Filter_input__13Hvf",label:"Filter_label__3WdbA"}},40:function(t,e,n){t.exports={App:"App_App__2J1e5","App-logo":"App_App-logo__2V-rn","App-header":"App_App-header__FMXJh","App-link":"App_App-link__LeNhy",container:"App_container__27EMI","App-logo-spin":"App_App-logo-spin__FjVE2"}},41:function(t,e,n){t.exports={button:"ContactList_button__3Ot6y"}},71:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var c,r,a,o=n(0),u=n.n(o),i=n(17),b=n.n(i),s=n(42),l=n(8),p=n(20),j=n(3),f=n(4),O=n(7),h=n(75),d=Object(j.b)("phoneBook/AddRequest"),m=Object(j.b)("phoneBook/AddSuccess",(function(t){var e=t.name,n=t.number;return{payload:{id:Object(h.a)(),name:e,number:n}}})),_=Object(j.b)("phoneBook/AddError"),x=Object(j.b)("phoneBook/DeleteRequest"),v=Object(j.b)("phoneBook/DeleteSuccess"),k=Object(j.b)("phoneBook/DeleteError"),A=Object(j.b)("phoneBook/fetchContactsRequest"),g=Object(j.b)("phoneBook/fetchContactsError"),y=Object(j.b)("phoneBook/fetchContactsSuccess"),C=Object(j.b)("phoneBook/ChangeFilter"),w=Object(j.c)([],(c={},Object(f.a)(c,y,(function(t,e){return e.payload})),Object(f.a)(c,m,(function(t,e){return[e.payload].concat(Object(p.a)(t))})),Object(f.a)(c,v,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),B=Object(j.c)("",Object(f.a)({},C,(function(t,e){return e.payload}))),N=Object(j.c)(!1,(r={},Object(f.a)(r,A,(function(){return!0})),Object(f.a)(r,y,(function(){return!1})),Object(f.a)(r,g,(function(){return!1})),Object(f.a)(r,d,(function(){return!0})),Object(f.a)(r,m,(function(){return!1})),Object(f.a)(r,_,(function(){return!1})),Object(f.a)(r,x,(function(){return!0})),Object(f.a)(r,v,(function(){return!1})),Object(f.a)(r,k,(function(){return!1})),r)),F=Object(j.c)(null,(a={},Object(f.a)(a,g,(function(t,e){return e.payload})),Object(f.a)(a,A,(function(){return null})),Object(f.a)(a,_,(function(t,e){return e.payload})),Object(f.a)(a,k,(function(t,e){return e.payload})),a)),E=Object(O.c)({items:w,filter:B,error:F,loading:N}),L=n(39),S=n.n(L),D=[].concat(Object(p.a)(Object(j.d)()),[S.a]),J=Object(j.a)({reducer:{phoneBook:E},middleware:D,devTools:!1}),R=n(40),q=n.n(R),M=n(29),I=n(10),P=n.n(I),T=n(21),V=n(16),H=n.n(V);H.a.defaults.baseURL="http://localhost:4040";var U=n(13),W=function(t){return t.phoneBook.items},X=function(t){return t.phoneBook.filter},z=Object(U.a)([W,X],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),G=function(t){return t.phoneBook.loading},K=function(t){return t.phoneBook.error},Q=n(11),Y=n.n(Q),Z=n(1);function $(){var t=Object(o.useState)(""),e=Object(M.a)(t,2),n=e[0],c=e[1],r=Object(o.useState)(""),a=Object(M.a)(r,2),u=a[0],i=a[1],b=Object(l.c)(W),s=Object(l.b)(),p=function(t,e){return s(function(t,e){return function(){var n=Object(T.a)(P.a.mark((function n(c){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},console.log(t,e),n.prev=2,c(d()),n.next=6,H.a.post("/contacts",r).then((function(t){var e=t.data;return c(m(e))}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),c(_(n.t0));case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(t){return n.apply(this,arguments)}}()}(t,e))},j=function(){var t=n.toLowerCase(),e=b.find((function(e){return e.name.toLowerCase()===t}));n&&u?e?alert("Ta\u043a\u043e\u0435 \u0438\u043c\u044f \u0443\u0436\u0435 \u0435\u0441\u0442\u044c"):p(n,u):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d")},f=function(t){var e=t.target,n=e.value;switch(e.name){case"name":c(n);break;case"number":i(n);break;default:return}},O=function(){c(""),i("")};return Object(Z.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j(),O()},className:Y.a.form,children:[Object(Z.jsxs)("label",{className:Y.a.label,children:["Name",Object(Z.jsx)("input",{className:Y.a.input,type:"text",name:"name",value:n,placeholder:"Enter contact name",onChange:f})]}),Object(Z.jsxs)("label",{className:Y.a.label,children:["Number",Object(Z.jsx)("input",{className:Y.a.input,type:"tel",name:"number",value:u,placeholder:"Enter contact number",onChange:f})]}),Object(Z.jsx)("button",{type:"submit",className:Y.a.button,children:"Add contact"})]})}var tt=n(26),et=n.n(tt);function nt(){var t=Object(l.c)(X),e=Object(l.b)();return Object(Z.jsxs)("label",{className:et.a.label,children:["Find contacts by name",Object(Z.jsx)("input",{className:et.a.input,type:"string",name:"filter",placeholder:"Enter contact name to find",value:t,onChange:function(t){return e(C(t.target.value))}})]})}var ct=n(41),rt=n.n(ct);function at(){var t=Object(l.c)(z),e=Object(l.c)(G),n=Object(l.c)(K),c=Object(l.b)(),r=function(t){return c(function(t){return function(){var e=Object(T.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(x()),e.next=4,H.a.delete("/contacts/".concat(t)).then((function(){return n(v(t))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(k(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}(t))};return Object(o.useEffect)((function(){c(function(){var t=Object(T.a)(P.a.mark((function t(e){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(A()),t.next=4,H.a.get("/contacts").then((function(t){var n=t.data;return e(y(n))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(g(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())}),[c]),Object(Z.jsxs)(Z.Fragment,{children:[n&&Object(Z.jsx)("h1",{children:"Error"}),e&&Object(Z.jsx)("h1",{children:"Loading, please wait"}),Object(Z.jsx)("ul",{children:t&&t.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(Z.jsxs)("li",{children:[Object(Z.jsxs)("p",{children:[n," ",c]}),Object(Z.jsx)("button",{type:"button",id:e,onClick:function(){return r(e)},className:rt.a.button,children:"Delete"})]},e)}))})]})}function ot(){return Object(Z.jsxs)("div",{className:q.a.container,children:[Object(Z.jsx)("h1",{children:"Phonebook"}),Object(Z.jsx)($,{}),Object(Z.jsx)("h2",{children:"Contacts"}),Object(Z.jsx)(nt,{}),Object(Z.jsx)(at,{})]})}n(71);b.a.render(Object(Z.jsx)(u.a.StrictMode,{children:Object(Z.jsx)(l.a,{store:J,children:Object(Z.jsx)(s.a,{children:Object(Z.jsx)(ot,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.f832dbfc.chunk.js.map